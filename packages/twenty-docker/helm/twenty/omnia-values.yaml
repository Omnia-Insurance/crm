server:
  replicaCount: 2
  persistence:
    enabled: false
  dockerDataPersistence:
    enabled: false
  image:
    repository: 189365142140.dkr.ecr.us-east-1.amazonaws.com/twenty-crm
    tag: latest
  env:
    EXCEPTION_HANDLER_DRIVER: sentry
    SENTRY_ENVIRONMENT: production
    SENTRY_DSN: https://3364f6ba21801fb70491652bd784a367@o4510840638930944.ingest.us.sentry.io/4510840660819968
    SENTRY_FRONT_DSN: https://660cb58838f1dbf2ee91c1290136056e@o4510840638930944.ingest.us.sentry.io/4510840650989568
    NODE_OPTIONS: "--max-old-space-size=1536"
  resources:
    requests:
      cpu: 100m
      memory: 1Gi
    limits:
      cpu: 1500m
      memory: 2560Mi
  ingress:
    enabled: true
    className: nginx
    acme: false
    annotations:
      nginx.ingress.kubernetes.io/proxy-read-timeout: "3600"
      nginx.ingress.kubernetes.io/proxy-send-timeout: "3600"
      nginx.ingress.kubernetes.io/proxy-buffering: "off"
    hosts:
      - host: crm.omniaagent.com
        paths:
          - path: /
            pathType: Prefix
    tls:
      - secretName: twenty-tls
        hosts:
          - crm.omniaagent.com

worker:
  image:
    repository: 189365142140.dkr.ecr.us-east-1.amazonaws.com/twenty-crm
    tag: latest
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 1024Mi

db:
  internal:
    image:
      repository: twentycrm/twenty-postgres-spilo
      tag: latest
    resources:
      requests:
        cpu: 100m
        memory: 256Mi
      limits:
        cpu: 500m
        memory: 512Mi
    persistence:
      enabled: true
      size: 10Gi
      accessModes:
        - ReadWriteOnce

storage:
  type: s3
  s3:
    bucket: twenty-crm-storage-189365142140
    region: us-east-1
    secretName: twenty-s3-credentials
    accessKeyIdKey: accessKeyId
    secretAccessKeyKey: secretAccessKey

redisInternal:
  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi
